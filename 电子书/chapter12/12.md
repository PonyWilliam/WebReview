# 第十二章-ajax
## 题目
1. 手写一个简易ajax
2. 跨域的常用实现方式
## 知识点
1. XMLHttpRequest
2. http状态吗
    1. 2xx - 表示处理请求成功，如200
    2. 3xx - 需要重定向，浏览器直接跳转，如301
    3. 4xx - 客户端请求错误，如404 403
    4. 5xx - 服务器端错误，如500，501，502
3. 跨域
    1. 什么是跨域（同源策略）
    2. JSONP
    3. CORS（服务端支持）

### 同源策略
1. ajax请求时，浏览器要求当前网页和server必须同源（安全）
2. 同源：协议、域名、端口，三者必须一致
3. 加载图片、css/js可无视同源策略
4. 图片可用于统计打点，可使用第三方统计服务。
5. link，script可使用cdn，cdn一般是外域
6. script可实现JSONP

### 跨域
1. 所有的跨域都必须经过服务端配合
2. 未经server端允许实现跨域，说明浏览器有漏洞，危险信号

### JSONP
1. 访问xxx.com，服务端一定返回一个html文件吗？
2. 服务器可以任意动态拼接返回，只要符合html格式就可以
3. 同理script src = "xxx.getData.js"
4. script标签可以绕过跨域限制
5. 服务器可以拼接任意动态数据返回
6. 所以script就可以获取跨域数据，只要服务端愿意。